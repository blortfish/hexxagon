<!DOCTYPE html>
<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <title>Untitled</title>

    <script type="text/javascript" language="javascript">
        <!--
        //distance to move
        var win_width;
        var n6, ie;

        //detect browser
        if (document.all) {
            ie = true;
        } else if (document.getElementById) {
            n6 = true;
        }


        //Get dimensions of the window
        function dimensions() {
            if (n6) {
                win_width = window.innerWidth;
            } else if (ie) {
                win_width = document.body.clientWidth;
            }

        }


        var dxArr = new Array();


        function init() {
            for (i = 0; i < 5000; i++) {
                var img = document.createElement('img');
                img.src = "picsmall.jpg";
                img.id = "move" + i;
                img.setAttribute('style', "font-size:14px; position:absolute; left:0px; top:" + (i * 25) + "px;");
                document.body.appendChild(img);
                hold = "doIt('move" + i + "'," + i + ")";
                x = 'setInterval(\"' + hold + '\",20)';
                eval(x);
                //alert(x);
                dxArr[i] = i + 1;
            }
        }

        function doIt(whichOne, id) {

            //alert(document.getElementById(whichOne));
            var pos = parseInt(document.getElementById(whichOne).style.left);
            if ((pos < win_width && dxArr[id] > 0) || (pos > 0 && dxArr[id] < 0)) {

                document.getElementById(whichOne).style.left = pos + ((dxArr[id] + 1) % 20 + 1) + "px";
            } else {
                dxArr[id] = dxArr[id] * -1;
            }
        }


        //-->
    </script>

</head>
<body onload="dimensions();init();" onresize="dimensions();">

</body>
</html>